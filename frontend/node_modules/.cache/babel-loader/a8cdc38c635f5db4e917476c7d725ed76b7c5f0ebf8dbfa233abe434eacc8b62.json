{"ast":null,"code":"var _jsxFileName = \"/Users/lwi/Foodniverse3.0/frontend/src/components/AIAgentBubble/AIAgentBubble.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AIAgentBubble = ({\n  partnerName,\n  onConfirm,\n  onClose\n}) => {\n  _s();\n  const [messages, setMessages] = useState([{\n    sender: \"ai\",\n    text: `Hey ðŸ‘‹ I noticed you and ${partnerName} have shared a few memories together.`\n  }]);\n  const [step, setStep] = useState(0);\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      if (step === 0) {\n        setMessages(prev => [...prev, {\n          sender: \"ai\",\n          text: `Would you like me to start a private memory thread just for you two?`\n        }]);\n        setStep(1);\n      }\n    }, 2000);\n    return () => clearTimeout(timeout);\n  }, [step, partnerName]);\n  const handleUserReply = reply => {\n    setMessages(prev => [...prev, {\n      sender: \"user\",\n      text: reply\n    }]);\n    if (reply.toLowerCase().includes(\"yes\")) {\n      setMessages(prev => [...prev, {\n        sender: \"ai\",\n        text: `Awesome ðŸŒŸ Setting things up now...`\n      }]);\n      setTimeout(() => {\n        onConfirm();\n      }, 1500);\n    } else {\n      setMessages(prev => [...prev, {\n        sender: \"ai\",\n        text: `No worries! Iâ€™ll be here if you change your mind.`\n      }]);\n      setTimeout(() => onClose(), 2000);\n    }\n  };\n  return /*#__PURE__*/createPortal(/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-6 right-6 z-[9999] max-w-sm w-full\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-2xl rounded-3xl p-4 border border-blue-200 backdrop-blur-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm text-blue-700 font-bold mb-2\",\n        children: \"Luna AI \\u2728\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2 max-h-40 overflow-y-auto\",\n        children: messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-sm ${msg.sender === \"ai\" ? \"text-gray-700\" : \"text-right text-blue-600 font-semibold\"}`,\n          children: msg.text\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUserReply(\"Yes\"),\n          className: \"text-white bg-blue-600 px-4 py-2 rounded-full text-xs\",\n          children: \"Yes, create thread\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUserReply(\"No\"),\n          className: \"text-blue-600 bg-blue-100 px-4 py-2 rounded-full text-xs\",\n          children: \"No, thanks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this), document.body);\n};\n_s(AIAgentBubble, \"uQh2ioLm//wbw20ZpGIriw6WiKI=\");\n_c = AIAgentBubble;\nexport default AIAgentBubble;\nvar _c;\n$RefreshReg$(_c, \"AIAgentBubble\");","map":{"version":3,"names":["React","useState","useEffect","createPortal","jsxDEV","_jsxDEV","AIAgentBubble","partnerName","onConfirm","onClose","_s","messages","setMessages","sender","text","step","setStep","timeout","setTimeout","prev","clearTimeout","handleUserReply","reply","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","i","onClick","document","body","_c","$RefreshReg$"],"sources":["/Users/lwi/Foodniverse3.0/frontend/src/components/AIAgentBubble/AIAgentBubble.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst AIAgentBubble = ({ partnerName, onConfirm, onClose }) => {\n  const [messages, setMessages] = useState([\n    { sender: \"ai\", text: `Hey ðŸ‘‹ I noticed you and ${partnerName} have shared a few memories together.` },\n  ]);\n  const [step, setStep] = useState(0);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      if (step === 0) {\n        setMessages((prev) => [\n          ...prev,\n          {\n            sender: \"ai\",\n            text: `Would you like me to start a private memory thread just for you two?`,\n          },\n        ]);\n        setStep(1);\n      }\n    }, 2000);\n    return () => clearTimeout(timeout);\n  }, [step, partnerName]);\n\n  const handleUserReply = (reply) => {\n    setMessages((prev) => [...prev, { sender: \"user\", text: reply }]);\n    if (reply.toLowerCase().includes(\"yes\")) {\n      setMessages((prev) => [\n        ...prev,\n        { sender: \"ai\", text: `Awesome ðŸŒŸ Setting things up now...` },\n      ]);\n      setTimeout(() => {\n        onConfirm();\n      }, 1500);\n    } else {\n      setMessages((prev) => [\n        ...prev,\n        { sender: \"ai\", text: `No worries! Iâ€™ll be here if you change your mind.` },\n      ]);\n      setTimeout(() => onClose(), 2000);\n    }\n  };\n\n  return createPortal(\n    <div className=\"fixed bottom-6 right-6 z-[9999] max-w-sm w-full\">\n      <div className=\"bg-white shadow-2xl rounded-3xl p-4 border border-blue-200 backdrop-blur-md\">\n        <h2 className=\"text-sm text-blue-700 font-bold mb-2\">Luna AI âœ¨</h2>\n        <div className=\"space-y-2 max-h-40 overflow-y-auto\">\n          {messages.map((msg, i) => (\n            <div\n              key={i}\n              className={`text-sm ${\n                msg.sender === \"ai\" ? \"text-gray-700\" : \"text-right text-blue-600 font-semibold\"\n              }`}\n            >\n              {msg.text}\n            </div>\n          ))}\n        </div>\n        {step === 1 && (\n          <div className=\"mt-3 flex justify-between\">\n            <button\n              onClick={() => handleUserReply(\"Yes\")}\n              className=\"text-white bg-blue-600 px-4 py-2 rounded-full text-xs\"\n            >\n              Yes, create thread\n            </button>\n            <button\n              onClick={() => handleUserReply(\"No\")}\n              className=\"text-blue-600 bg-blue-100 px-4 py-2 rounded-full text-xs\"\n            >\n              No, thanks\n            </button>\n          </div>\n        )}\n      </div>\n    </div>,\n    document.body\n  );\n};\n\nexport default AIAgentBubble;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}